{% extends '_modal.html' %}
{% block modal_id %}GroupInfo{% endblock %}
{% block modal_class %}modal-groupinfo{% endblock %}
{% block modal_style %}{% endblock %}
{% block modal_title %}应用组信息{% endblock %}
{% block modal_body %}
                <form method="post" id="form_group" enctype="application/json">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-4">
                            <p class="alert alert-danger" id="modal-error" style="display: none"></p>
                        </div>
                    </div>
                    <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>应用组ID</label>
                            <input id="id_id" name="id" type="text" class="form-control" readonly="yes">
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>应用组名称</label>
                            <input id="id_name" name="name" type="text" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <div class="form-group">
                            <label>应用组信息</label>
                            <input id="id_info" name="info" type="text" class="form-control">
                        </div>
                    </div>
                </div>
                </form>
{% endblock %}

{% block modal_confirm_id %}modal_group_id{% endblock %}

{% block modal_js %}
<script>
    function openModal(type) {
        cleanForm($('#form_group'));
        if(type=='add'){//ADD
            $('#id_id').val('#New');
            $('#modal-error').css('display','none');
        }else if(type=='modify'){//MODIFY
            $('#modal-error').css('display','none');
            var a=$('#group_tb').bootstrapTable('getSelections');
            if(a.length<1){
                alert('请选择数据');
                return ;
            }
            else{
                $('#id_id').val(a[0].id);
                $('#id_name').val(a[0].name);
                $('#id_info').val(a[0].info);
            }
        }
        $("#GroupInfo").modal();
    }
    function cleanForm(form){
            $(':input',form).each(function(){
                var type=this.type;
                var tag=this.tagName.toLowerCase();
                if(type=='text'||type=='password'||tag=='textarea'){
                    this.value='';
                }else if(type=='checkbox'||type=='radio'){
                    this.checked=false;
                }else if(tag=='select'){
                    this.selectedIndex=-1;
                }
            });
        }
</script>

{% endblock %}